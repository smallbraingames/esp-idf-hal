<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief               The authenticated encryption (AEAD/NIST_KW) function."><title>mbedtls_cipher_auth_decrypt_ext in esp_idf_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="esp_idf_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (35b658fb1 2024-07-08)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../esp_idf_sys/index.html">esp_idf_sys</a><span class="version">0.35.0</span></h2></div><div class="sidebar-elems"></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">esp_idf_sys</a>::<wbr><a class="fn" href="#">mbedtls_cipher_auth_decrypt_ext</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-9a109d5411b517fb/out/bindings.rs.html#34988-35000">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mbedtls_cipher_auth_decrypt_ext(
    ctx: *mut <a class="struct" href="struct.mbedtls_cipher_context_t.html" title="struct esp_idf_sys::mbedtls_cipher_context_t">mbedtls_cipher_context_t</a>,
    iv: *const c_uchar,
    iv_len: usize,
    ad: *const c_uchar,
    ad_len: usize,
    input: *const c_uchar,
    ilen: usize,
    output: *mut c_uchar,
    output_len: usize,
    olen: *mut usize,
    tag_len: usize,
) -&gt; c_int</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief               The authenticated encryption (AEAD/NIST_KW) function.</p>
<p>\note                If the data is not authentic, then the output buffer
is zeroed out to prevent the unauthentic plaintext being
used, making this interface safer.</p>
<p>\note                For AEAD modes, the tag must be appended to the
ciphertext, as recommended by RFC 5116.
(NIST_KW doesn’t have a separate tag.)</p>
<p>\param ctx           The generic cipher context. This must be initialized and
bound to a key, with an AEAD algorithm or NIST_KW.
\param iv            The nonce to use. This must be a readable buffer of
at least \p iv_len Bytes and may be \c NULL if \p
iv_len is \c 0.
\param iv_len        The length of the nonce. For AEAD ciphers, this must
satisfy the constraints imposed by the cipher used.
For NIST_KW, this must be \c 0.
\param ad            The additional data to authenticate. This must be a
readable buffer of at least \p ad_len Bytes, and may
be \c NULL is \p ad_len is \c 0.
\param ad_len        The length of \p ad. For NIST_KW, this must be \c 0.
\param input         The buffer holding the input data. This must be a
readable buffer of at least \p ilen Bytes, and may be
\c NULL if \p ilen is \c 0.
\param ilen          The length of the input data. For AEAD ciphers this
must be at least \p tag_len. For NIST_KW this must be
at least \c 8.
\param output        The buffer for the output data. This must be a
writable buffer of at least \p output_len Bytes, and
may be \c NULL if \p output_len is \c 0.
\param output_len    The length of the \p output buffer in Bytes. For AEAD
ciphers, this must be at least \p ilen - \p tag_len.
For NIST_KW, this must be at least \p ilen - 8.
\param olen          This will be filled with the actual number of Bytes
written to the \p output buffer. This must point to a
writable object of type \c size_t.
\param tag_len       The actual length of the authentication tag. For AEAD
ciphers, this must match the constraints imposed by
the cipher used, and in particular must not be \c 0.
For NIST_KW, this must be \c 0.</p>
<p>\return              \c 0 on success.
\return              #MBEDTLS_ERR_CIPHER_BAD_INPUT_DATA on
parameter-verification failure.
\return              #MBEDTLS_ERR_CIPHER_AUTH_FAILED if data is not authentic.
\return              A cipher-specific error code on failure.</p>
</div></details></section></div></main></body></html>