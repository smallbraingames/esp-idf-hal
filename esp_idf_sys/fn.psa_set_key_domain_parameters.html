<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief Set domain parameters for a key."><title>psa_set_key_domain_parameters in esp_idf_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="esp_idf_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (35b658fb1 2024-07-08)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../esp_idf_sys/index.html">esp_idf_sys</a><span class="version">0.35.0</span></h2></div><div class="sidebar-elems"></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">esp_idf_sys</a>::<wbr><a class="fn" href="#">psa_set_key_domain_parameters</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-9a109d5411b517fb/out/bindings.rs.html#36717-36722">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn psa_set_key_domain_parameters(
    attributes: *mut <a class="type" href="type.psa_key_attributes_t.html" title="type esp_idf_sys::psa_key_attributes_t">psa_key_attributes_t</a>,
    type_: <a class="type" href="type.psa_key_type_t.html" title="type esp_idf_sys::psa_key_type_t">psa_key_type_t</a>,
    data: *const u8,
    data_length: usize,
) -&gt; <a class="type" href="type.psa_status_t.html" title="type esp_idf_sys::psa_status_t">psa_status_t</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief Set domain parameters for a key.</p>
<p>Some key types require additional domain parameters in addition to
the key type identifier and the key size. Use this function instead
of psa_set_key_type() when you need to specify domain parameters.</p>
<p>The format for the required domain parameters varies based on the key type.</p>
<ul>
<li>For RSA keys (#PSA_KEY_TYPE_RSA_PUBLIC_KEY or #PSA_KEY_TYPE_RSA_KEY_PAIR),
the domain parameter data consists of the public exponent,
represented as a big-endian integer with no leading zeros.
This information is used when generating an RSA key pair.
When importing a key, the public exponent is read from the imported
key data and the exponent recorded in the attribute structure is ignored.
As an exception, the public exponent 65537 is represented by an empty
byte string.</li>
<li>For DSA keys (#PSA_KEY_TYPE_DSA_PUBLIC_KEY or #PSA_KEY_TYPE_DSA_KEY_PAIR),
the <code>Dss-Params</code> format as defined by RFC 3279 §2.3.2.
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>Dss-Params ::= SEQUENCE  {
   p       INTEGER,
   q       INTEGER,
   g       INTEGER
}</code></pre></div>
</li>
<li>For Diffie-Hellman key exchange keys
(#PSA_KEY_TYPE_DH_PUBLIC_KEY(#PSA_DH_FAMILY_CUSTOM) or
#PSA_KEY_TYPE_DH_KEY_PAIR(#PSA_DH_FAMILY_CUSTOM)), the
<code>DomainParameters</code> format as defined by RFC 3279 §2.3.3.
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>DomainParameters ::= SEQUENCE {
   p               INTEGER,                    -- odd prime, p=jq +<span class="number">1
   </span>g               INTEGER,                    -- generator, g
   q               INTEGER,                    -- factor of p-<span class="number">1
   </span>j               INTEGER OPTIONAL,           -- subgroup factor
   validationParams ValidationParams OPTIONAL
}
ValidationParams ::= SEQUENCE {
   seed            BIT STRING,
   pgenCounter     INTEGER
}</code></pre></div>
</li>
</ul>
<p>\note This function may allocate memory or other resources.
Once you have called this function on an attribute structure,
you must call psa_reset_key_attributes() to free these resources.</p>
<p>\note This is an experimental extension to the interface. It may change
in future versions of the library.</p>
<p>\param[in,out] attributes    Attribute structure where the specified domain
parameters will be stored.
If this function fails, the content of
\p attributes is not modified.
\param type                  Key type (a \c PSA_KEY_TYPE_XXX value).
\param[in] data              Buffer containing the key domain parameters.
The content of this buffer is interpreted
according to \p type as described above.
\param data_length           Size of the \p data buffer in bytes.</p>
<p>\retval #PSA_SUCCESS \emptydescription
\retval #PSA_ERROR_INVALID_ARGUMENT \emptydescription
\retval #PSA_ERROR_NOT_SUPPORTED \emptydescription
\retval #PSA_ERROR_INSUFFICIENT_MEMORY \emptydescription</p>
</div></details></section></div></main></body></html>