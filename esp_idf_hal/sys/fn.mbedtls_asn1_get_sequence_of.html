<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief       Parses and splits an ASN.1 “SEQUENCE OF ”. Updates the pointer to immediately behind the full sequence tag."><title>mbedtls_asn1_get_sequence_of in esp_idf_hal::sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (35b658fb1 2024-07-08)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_idf_hal</a><span class="version">0.44.1</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In esp_idf_hal::sys</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a>::<wbr><a class="fn" href="#">mbedtls_asn1_get_sequence_of</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-9a109d5411b517fb/out/bindings.rs.html#37767-37772">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mbedtls_asn1_get_sequence_of(
    p: *mut *mut u8,
    end: *const u8,
    cur: *mut <a class="struct" href="struct.mbedtls_asn1_sequence.html" title="struct esp_idf_hal::sys::mbedtls_asn1_sequence">mbedtls_asn1_sequence</a>,
    tag: i32,
) -&gt; i32</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief       Parses and splits an ASN.1 “SEQUENCE OF <tag>”.
Updates the pointer to immediately behind the full sequence tag.</p>
<p>This function allocates memory for the sequence elements. You can free
the allocated memory with mbedtls_asn1_sequence_free().</p>
<p>\note        On error, this function may return a partial list in \p cur.
You must set <code>cur-&gt;next = NULL</code> before calling this function!
Otherwise it is impossible to distinguish a previously non-null
pointer from a pointer to an object allocated by this function.</p>
<p>\note        If the sequence is empty, this function does not modify
\c *cur. If the sequence is valid and non-empty, this
function sets <code>cur-&gt;buf.tag</code> to \p tag. This allows
callers to distinguish between an empty sequence and
a one-element sequence.</p>
<p>\param p     On entry, \c *p points to the start of the ASN.1 element.
On successful completion, \c *p is equal to \p end.
On error, the value of \c *p is undefined.
\param end   End of data.
\param cur   A ::mbedtls_asn1_sequence which this function fills.
When this function returns, \c *cur is the head of a linked
list. Each node in this list is allocated with
mbedtls_calloc() apart from \p cur itself, and should
therefore be freed with mbedtls_free().
The list describes the content of the sequence.
The head of the list (i.e. \c *cur itself) describes the
first element, <code>*cur-&gt;next</code> describes the second element, etc.
For each element, <code>buf.tag == tag</code>, <code>buf.len</code> is the length
of the content of the content of the element, and <code>buf.p</code>
points to the first byte of the content (i.e. immediately
past the length of the element).
Note that list elements may be allocated even on error.
\param tag   Each element of the sequence must have this tag.</p>
<p>\return      0 if successful.
\return      #MBEDTLS_ERR_ASN1_LENGTH_MISMATCH if the input contains
extra data after a valid SEQUENCE OF \p tag.
\return      #MBEDTLS_ERR_ASN1_UNEXPECTED_TAG if the input starts with
an ASN.1 SEQUENCE in which an element has a tag that
is different from \p tag.
\return      #MBEDTLS_ERR_ASN1_ALLOC_FAILED if a memory allocation failed.
\return      An ASN.1 error code if the input does not start with
a valid ASN.1 SEQUENCE.</p>
</div></details></section></div></main></body></html>